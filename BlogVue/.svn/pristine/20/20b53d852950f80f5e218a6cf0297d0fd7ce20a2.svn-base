<template></template>

<script>
import myStorge from "../../../utils/localStorge.js";
export default {
  data() {
    const _this = this;
    return {
      id: "",
      curUser: null
    };
  },
  created() {
    const _this = this;
    _this.id =
      typeof _this.$route.query.id != "undefined" ? +_this.$route.query.id : "";
  },
  mounted() {
    const _this = this;
    console.log(_this.id);
    _this.curUser = myStorge.get("curUser");
    console.log(_this.curUser);
    if (_this.curUser.myUserType == 1) {
      //教师或者是校领导
      myStorge.set("mission", { id: _this.id });
      let path = this.routerCfg.options.pathById(221);
      console.log(path);
      _this.$router.push(path);
    } else if (_this.curUser.myUserType == 0) {
      //学生
      _this.$store.commit("setMyMission", { discussId: _this.id });
      let path = this.routerCfg.options.pathById(232);
      console.log(path);
      this.$router.push(path);
    }
  }
};
</script>


